<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANHS-SH 2025 Yearbook</title>
    <style>
        :root {
            --primary-color: #3a506b;
            --secondary-color: #5bc0be;
            --accent-color: #ffb997;
            --text-color: #1c2541;
            --bg-color: #f8f9fa;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--card-shadow);
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }
        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .logo {
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
        }
        .title {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
        }
        .search-container {
            position: relative;
            width: 300px;
        }
        .search-input {
            width: 100%;
            padding: 0.8rem 1rem;
            border-radius: 30px;
            border: none;
            outline: none;
            font-size: 1rem;
            box-shadow: var(--card-shadow);
        }
        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-color);
        }
        nav {
            background-color: white;
            padding: 1rem 2rem;
            box-shadow: var(--card-shadow);
        }
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }
        .nav-link {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: var(--transition);
            position: relative;
        }
        .nav-link:hover, .nav-link.active {
            background-color: var(--secondary-color);
            color: white;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 3px;
            background-color: var(--accent-color);
            transition: var(--transition);
        }
        .nav-link:hover::after, .nav-link.active::after {
            width: 80%;
        }
        main {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        .section-title {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            text-align: center;
            position: relative;
            padding-bottom: 0.5rem;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        }
        .section-title.highlight {
            background-color: var(--accent-color);
            color: var(--primary-color);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 185, 151, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 185, 151, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 185, 151, 0); }
        }
        .students-grid, .teachers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        .student-card, .teacher-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }
        .student-card:hover, .teacher-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        .student-img, .teacher-img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            object-position: top;
            transition: var(--transition);
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
        }
        .student-card:hover .student-img,
        .teacher-card:hover .teacher-img {
            transform: scale(1.05);
        }
        .student-info, .teacher-info {
            padding: 1.5rem;
            text-align: center;
        }
        .student-name, .teacher-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            transition: var(--transition);
        }
        .student-card:hover .student-name,
        .teacher-card:hover .teacher-name {
            color: var(--secondary-color);
        }
        .teacher-section {
            font-size: 0.9rem;
            color: var(--secondary-color);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalFadeIn 0.3s ease;
        }
        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color);
            transition: var(--transition);
        }
        .close-modal:hover {
            color: var(--primary-color);
            transform: rotate(90deg);
        }
        .modal-header {
            padding: 2rem;
            text-align: center;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 20px 20px 0 0;
        }
        .modal-img {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            object-position: top;
            border: 5px solid white;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
        }
        .modal-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .modal-section {
            padding: 2rem;
        }
        .modal-section h3 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary-color);
        }
        .awards-list {
            list-style: none;
        }
        .awards-list li {
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background-color: var(--bg-color);
            border-radius: 10px;
            display: flex;
            align-items: center;
            transition: var(--transition);
        }
        .awards-list li:hover {
            background-color: var(--secondary-color);
            color: white;
            transform: translateX(5px);
        }
        .award-icon {
            margin-right: 10px;
            color: var(--accent-color);
            font-weight: bold;
        }
        .view-full-btn {
            display: block;
            margin-top: 1rem;
            padding: 0.6rem 1.2rem;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        .view-full-btn:hover {
            background: var(--primary-color);
            transform: translateY(-2px);
        }
        .speeches-section, .memories-section {
            margin: 3rem 0;
        }
        .speech-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            margin-bottom: 2rem;
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }
        .speech-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .speech-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            object-position: top;
            margin-right: 1.5rem;
            border: 3px solid var(--secondary-color);
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
        }
        .speech-info h3 {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        .speech-info p {
            color: var(--secondary-color);
            font-weight: 600;
        }
        .speech-content {
            line-height: 1.8;
            font-style: italic;
            padding: 1rem;
            background-color: var(--bg-color);
            border-radius: 10px;
            margin-top: 1rem;
        }
        .memories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        .memory-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--card-shadow);
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
        }
        .memory-img:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .lyrics-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            line-height: 1.8;
            font-family: 'Georgia', serif;
            font-size: 1.1rem;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        .lyrics-text {
            white-space: pre-line;
            color: var(--text-color);
        }
        .other-awards-section {
            margin: 3rem 0;
        }
        .award-category {
            margin-bottom: 2rem;
        }
        .award-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary-color);
        }
        .award-recipients {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .recipient {
            background-color: var(--secondary-color);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            
            cursor: pointer;
            transition: var(--transition);
        }
        .recipient:hover {
            background-color: var(--primary-color);
            transform: translateY(-3px);
        }
        footer {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
        }
        .footer-logo-container {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        .footer-logo {
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
        }
        .copyright {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        #scrollToTopBtn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            box-shadow: var(--card-shadow);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 99;
        }
        #scrollToTopBtn.show {
            opacity: 1;
            visibility: visible;
        }
        #scrollToTopBtn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 1rem;
            }
            .search-container {
                width: 100%;
            }
            .nav-container {
                flex-wrap: wrap;
                gap: 0.5rem;
            }
            .students-grid, .teachers-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 1rem;
            }
            .student-img, .teacher-img {
                height: 300px;
            }
            .modal-img {
                width: 150px;
                height: 150px;
            }
            .speech-header {
                flex-direction: column;
                text-align: center;
            }
            .speech-img {
                margin-bottom: 1rem;
            }
            .memories-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            .memory-img {
                height: 150px;
            }
            #scrollToTopBtn {
                bottom: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
            }
            .recipient {
                font-size: 10px;
            }
        }
        @media (max-width: 480px) {
            .students-grid, .teachers-grid {
                grid-template-columns: 1fr;
            }
            .memories-grid {
                grid-template-columns: 1fr;
            }
            .nav-link {
                padding: 0.5rem 0.8rem;
                font-size: 0.9rem;
            }
        }
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left: 4px solid var(--secondary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .scroll-loader {
            text-align: center;
            padding: 2rem;
            display: none;
        }
        .scroll-loader.show {
            display: block;
        }
        .img-loading {
            opacity: 0.5;
        }
        .img-loaded {
            opacity: 1;
        }
        /* Full image modal */
        #fullImageModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        #fullImageModal img {
            max-width: 90%;
            max-height: 90%;
            border: 3px solid white;
            border-radius: 10px;
        }
        #closeFullImage {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-container">
                <img src="anhs-school.jpg" alt="School Logo" class="logo" loading="lazy">
                <h1 class="title">ANHS-SH 2025 Yearbook</h1>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search for a student, teacher, or section...">
                <span class="search-icon">🔍</span>
            </div>
        </div>
    </header>
    <nav>
        <div class="nav-container">
            <a href="#" class="nav-link active" data-section="students">Students</a>
            <a href="#" class="nav-link" data-section="teachers">Teachers</a>
            <a href="#" class="nav-link" data-section="achievements">Achievements</a>
            <a href="#" class="nav-link" data-section="speeches">Speeches</a>
            <a href="#" class="nav-link" data-section="memories">Memories</a>
            <a href="#" class="nav-link" data-section="lyrics">Lyrics</a>
        </div>
    </nav>
    <main>
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Loading content...</p>
        </div>

        <!-- Students Section -->
        <section id="students-section" class="section">
            <h2 class="section-title" id="aquarius-title">Aquarius Section</h2>
            <div class="students-grid" id="aquarius-students"></div>
            <h2 class="section-title" id="capricorn-title">Capricorn Section</h2>
            <div class="students-grid" id="capricorn-students"></div>
            <div class="scroll-loader" id="scrollLoader">
                <div class="spinner"></div>
                <p>Loading more students...</p>
            </div>
        </section>

        <!-- Teachers Section -->
        <section id="teachers-section" class="section" style="display: none;">
            <h2 class="section-title">Our Teachers</h2>
            <div class="teachers-grid" id="teachers-grid"></div>
        </section>

        <!-- Achievements Section -->
        <section id="achievements-section" class="section" style="display: none;">
            <h2 class="section-title">Individual Achievements</h2>
            <div id="individual-achievements"></div>
            <h2 class="section-title">Award Categories</h2>
            <div class="other-awards-section" id="other-awards"></div>
        </section>

        <!-- Speeches Section -->
        <section id="speeches-section" class="section" style="display: none;">
            <h2 class="section-title">Special Speeches</h2>
            <div id="speeches-container"></div>
        </section>

        <!-- Memories Section -->
        <section id="memories-section" class="section" style="display: none;">
            <h2 class="section-title">School Memories</h2>
            <div class="memories-grid" id="memories-grid"></div>
        </section>

        <!-- Graduation Song Lyrics Section -->
        <section id="lyrics-section" class="section" style="display: none;">
            <h2 class="section-title">Graduation Song Lyrics</h2>
            <div class="lyrics-content" id="lyrics-content">
                <p class="lyrics-text">
                    <!-- Lyrics will be inserted here via JS or hardcoded -->
                </p>
            </div>
        </section>
    </main>

    <!-- Student/Teacher Profile Modal -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <div class="modal-header">
                <img src="" alt="Profile" class="modal-img" id="modalImg" loading="lazy">
                <h2 class="modal-name" id="modalName"></h2>
            </div>
            <div class="modal-section" id="modalAwardsSection">
                <h3>Achievements & Awards</h3>
                <ul class="awards-list" id="modalAwards"></ul>
                <button class="view-full-btn" id="viewFullBtn">View Full Image</button>
            </div>
        </div>
    </div>

    <!-- Full Image Modal -->
    <div id="fullImageModal" class="modal">
        <span id="closeFullImage">&times;</span>
        <img id="fullImage" src="" alt="Full Image">
    </div>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn" title="Scroll to Top">↑</button>

    <footer>
        <div class="footer-content">
            <div class="footer-logo-container">
                <img src="https://via.placeholder.com/100" alt="School Logo 1" class="footer-logo" loading="lazy">
                <img src="https://via.placeholder.com/100" alt="School Logo 2" class="footer-logo" loading="lazy">
            </div>
            <p class="copyright">&copy; 2025 ANHS-SH Yearbook. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Data
        const students = {
            "aquarius": [
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Adrian_D._Gallos.webp", name: "Adrian D. Gallos" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Aldred_C._Salcedo.webp", name: "Aldred C. Salcedo" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Andray_A._Realino.webp", name: "Andray A. Realino" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Angel_L._Gabrera.webp", name: "Angel L. Gabrera" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Antonia_Louisse_R._Mendoza.webp", name: "Antonia Louisse R. Mendoza" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Ashley_A._Rinos.webp", name: "Ashley A. Riños" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Bernard_Jr._M._Padoga.webp", name: "Bernard Jr. M. Padoga" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Cherry_Ann_B._Adonis.webp", name: "Cherry Ann B. Adonis" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Cheska_R._Cecilio.webp", name: "Cheska R. Cecilio" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Christal_Mae_T._Loreno.webp", name: "Christal Mae T. Loreño" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/aquarius/Christian_James_D._Reas.webp", name: "Christian James D. Reas" }
            ],
            "capricorn": [
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Aaron_P._Atienza.webp", name: "Aaron P. Atienza" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Allison_Fate_P._Dalugdugan.webp", name: "Allison Fate P. Dalugdugan" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Althea_Genesis_S._Tarinque.webp", name: "Althea Genesis S. Tarinque" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Angelene_B._Risos.webp", name: "Angelene B. Risos" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Anghelo_L._Olita.webp", name: "Anghelo L. Olita" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/April_Jean_E._Delgado.webp", name: "April Jean E. Delgado" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Crystal_S._Madrona.webp", name: "Crystal S. Madrona" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Cyrine_A._Tejero.webp", name: "Cyrine A. Tejero" },
                { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/capricorn/Darwin_S._Castro.webp", name: "Darwin S. Castro" }
            ]
        };

        const teachers = [
            { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/libra/Frenz_Jay_O._Felizarta.webp", name: "Frenz Jay O. Felizarta", section_name: "None" },
            { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/libra/Fritz_N._Dioso.webp", name: "Fritz N. Dioso", section_name: "Aquarius" },
            { img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/libra/Izzy_N._Robes.webp", name: "Izzy N. Robes", section_name: "Capricorn" }
        ];

        const achievements = {
            "Aaron P. Atienza": ["Most Improved Student", "Math Olympiad Winner"],
            "Allison Fate P. Dalugdugan": ["Best in English", "Leadership Award", "Science Fair Champion"],
            "Adrian D. Gallos": ["Athlete of the Year", "Community Service Award"],
            "Ashley A. Riños": ["Art Excellence Award", "Most Creative Project","Most Improved Student","Leadership Award","Athlete of the Year","Art Excellence Award","fghghgjhjj","fdfdggfhhfdhh","fdfgfdhghghjhgfh","dfdfdgfhg"],
            "Christian James D. Reas": ["Programming Contest Winner", "Debate Champion"]
        };

        const otherAwards = {
            "Most Improved Student": ["Aaron P. Atienza", "April Jean E. Delgado","Ashley A. Riños"],
            "Leadership Award": ["Allison Fate P. Dalugdugan", "Althea Genesis S. Tarinque","Ashley A. Riños"],
            "Athlete of the Year": ["Adrian D. Gallos", "Darwin S. Castro","Ashley A. Riños"],
            "Art Excellence Award": ["Ashley A. Riños", "Cherry Ann B. Adonis"],
            "Science Fair Champion": ["Allison Fate P. Dalugdugan", "Anghelo L. Olita","Ashley A. Riños"]
        };

        const speeches = [
            {
                name: "Dr. Maria Santos",
                status: "Principal",
                img: "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/libra/Frenz_Jay_O._Felizarta.webp",
                message: "To the graduating class of 2025, you have shown remarkable resilience and dedication throughout your journey at ANHS-SH. Your achievements, both academic and extracurricular, have set new standards for excellence. As you move forward to the next chapter of your lives, remember that education is not just about grades and awards, but about character, compassion, and the courage to make a difference in the world. We are immensely proud of each and every one of you."
            },
            {
                name: "John Reyes",
                status: "Student Council Secretary",
                img: "https://via.placeholder.com/150",
                message: "Fellow students, what a journey it has been! From early morning classes to late-night study sessions, from school events to competitions, we've grown together in ways we never imagined. I'm honored to have served as your Student Council Secretary and witnessed firsthand the incredible talent, creativity, and spirit that defines our class. As we part ways, let's promise to stay connected, support each other's dreams, and never forget the memories we've created at ANHS-SH. The future belongs to us!"
            }
        ];

        const memories = [
            "anhs-school.jpg",
            "https://cached-file-link.jhondumanhog.workers.dev/files/anhs-sh-2025/libra/Frenz_Jay_O._Felizarta.webp",
            "https://via.placeholder.com/400x300?text=Science+Fair",
            "https://via.placeholder.com/400x300?text=Arts+Exhibition",
            "https://via.placeholder.com/400x300?text=Field+Trip",
            "https://via.placeholder.com/400x300?text=Christmas+Party",
            "https://via.placeholder.com/400x300?text=Debate+Competition",
            "https://via.placeholder.com/400x300?text=Volunteer+Activity"
        ];

        const graduationLyrics = `
song title

We walked these halls with dreams so wide,
Through every storm, we stood with pride.
From morning bells to sunset cheers,
We faced our hopes, we faced our fears.

Now caps fly high, hearts beat as one,
Our chapter ends—but not our run.
ANHS-SH, you shaped our way,
We’ll carry you in all we say.

So here’s to friends, to teachers true,
To every laugh, to all we knew.
Though paths may part, our bond stays strong—
Graduates of 2025, we all belong.
`;

        // DOM Elements
        const searchInput = document.getElementById('searchInput');
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.section');
        const studentModal = document.getElementById('studentModal');
        const closeModal = document.getElementById('closeModal');
        const modalImg = document.getElementById('modalImg');
        const modalName = document.getElementById('modalName');
        const modalAwards = document.getElementById('modalAwards');
        const modalAwardsSection = document.getElementById('modalAwardsSection');
        const viewFullBtn = document.getElementById('viewFullBtn');
        const fullImageModal = document.getElementById('fullImageModal');
        const fullImage = document.getElementById('fullImage');
        const closeFullImage = document.getElementById('closeFullImage');
        const loading = document.getElementById('loading');
        const scrollLoader = document.getElementById('scrollLoader');
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');

        // Pagination
        const ITEMS_PER_PAGE = 6;
        let currentPage = { aquarius: 1, capricorn: 1 };
        let isFetching = { aquarius: false, capricorn: false };

        // Lazy load image
        function lazyLoadImage(imgElement, src) {
            if (!imgElement || !src) return;
            imgElement.classList.add('img-loading');
            const img = new Image();
            img.onload = () => {
                imgElement.src = src;
                imgElement.classList.remove('img-loading');
                imgElement.classList.add('img-loaded');
            };
            img.onerror = () => {
                imgElement.src = "https://via.placeholder.com/150?text=Image+Not+Found";
                imgElement.classList.remove('img-loading');
                imgElement.classList.add('img-loaded');
            };
            img.src = src;
        }

        // Get all awards (individual + other) for a student
        function getAllAwards(studentName) {
            const awardsSet = new Set();
            if (achievements[studentName]) {
                achievements[studentName].forEach(a => awardsSet.add(a));
            }
            for (const [award, recipients] of Object.entries(otherAwards)) {
                if (recipients.includes(studentName)) {
                    awardsSet.add(award);
                }
            }
            return Array.from(awardsSet);
        }

        // Generate student cards
        function generateStudentCards(section, containerId, page = 1) {
            const container = document.getElementById(containerId);
            const startIndex = (page - 1) * ITEMS_PER_PAGE;
            const endIndex = startIndex + ITEMS_PER_PAGE;
            const studentsToShow = students[section].slice(startIndex, endIndex);

            studentsToShow.forEach(student => {
                const card = document.createElement('div');
                card.className = 'student-card fade-in';
                card.innerHTML = `
                    <img alt="${student.name}" class="student-img" loading="lazy">
                    <div class="student-info">
                        <h3 class="student-name">${student.name}</h3>
                    </div>
                `;
                const imgElement = card.querySelector('.student-img');
                lazyLoadImage(imgElement, student.img);
                card.addEventListener('click', () => openStudentModal(student, student.img));
                container.appendChild(card);
            });

            if (endIndex >= students[section].length) {
                isFetching[section] = true;
            }
        }

        // Generate teachers
        function generateTeachers() {
            const container = document.getElementById('teachers-grid');
            container.innerHTML = '';
            teachers.forEach(teacher => {
                const card = document.createElement('div');
                card.className = 'teacher-card fade-in';
                const sectionText = teacher.section_name && teacher.section_name !== "None" ? `<div class="teacher-section">${teacher.section_name} Section</div>` : '';
                card.innerHTML = `
                    <img alt="${teacher.name}" class="teacher-img" loading="lazy">
                    <div class="teacher-info">
                        <h3 class="teacher-name">${teacher.name}</h3>
                        ${sectionText}
                    </div>
                `;
                const imgElement = card.querySelector('.teacher-img');
                lazyLoadImage(imgElement, teacher.img);
                card.addEventListener('click', () => {
                    fullImage.src = teacher.img;
                    fullImageModal.style.display = 'flex';
                });
                container.appendChild(card);
            });
        }

        // Generate individual achievements
        function generateIndividualAchievements() {
            const container = document.getElementById('individual-achievements');
            container.innerHTML = '';
            Object.keys(achievements).forEach(studentName => {
                const student = [...students.aquarius, ...students.capricorn].find(s => s.name === studentName);
                if (!student) return;
                const card = document.createElement('div');
                card.className = 'speech-card fade-in';
                card.innerHTML = `
                    <div class="speech-header">
                        <img alt="${student.name}" class="speech-img" loading="lazy">
                        <div class="speech-info">
                            <h3>${student.name}</h3>
                            <p>Outstanding Achievements</p>
                        </div>
                    </div>
                    <div class="speech-content">
                        <ul>
                            ${achievements[studentName].map(award => `<li>🏆 ${award}</li>`).join('')}
                        </ul>
                    </div>
                `;
                const imgElement = card.querySelector('.speech-img');
                lazyLoadImage(imgElement, student.img);
                card.addEventListener('click', () => openStudentModal(student, student.img));
                container.appendChild(card);
            });
        }

        // Generate other awards
        function generateOtherAwards() {
            const container = document.getElementById('other-awards');
            container.innerHTML = '';
            Object.keys(otherAwards).forEach(awardName => {
                const awardDiv = document.createElement('div');
                awardDiv.className = 'award-category fade-in';
                awardDiv.innerHTML = `
                    <h3 class="award-title">${awardName}</h3>
                    <div class="award-recipients">
                        ${otherAwards[awardName].map(recipient => 
                            `<div class="recipient" data-name="${recipient}">${recipient}</div>`
                        ).join('')}
                    </div>
                `;
                container.appendChild(awardDiv);
            });
            document.querySelectorAll('.recipient').forEach(recipient => {
                recipient.addEventListener('click', () => {
                    const studentName = recipient.getAttribute('data-name');
                    const student = [...students.aquarius, ...students.capricorn].find(s => s.name === studentName);
                    if (student) {
                        openStudentModal(student, student.img);
                    }
                });
            });
        }

        // Generate speeches
        function generateSpeeches() {
            const container = document.getElementById('speeches-container');
            container.innerHTML = '';
            speeches.forEach(speech => {
                const card = document.createElement('div');
                card.className = 'speech-card fade-in';
                card.innerHTML = `
                    <div class="speech-header">
                        <img alt="${speech.name}" class="speech-img" loading="lazy">
                        <div class="speech-info">
                            <h3>${speech.name}</h3>
                            <p>${speech.status}</p>
                        </div>
                    </div>
                    <div class="speech-content">
                        ${speech.message}
                    </div>
                `;
                const imgElement = card.querySelector('.speech-img');
                lazyLoadImage(imgElement, speech.img);
                container.appendChild(card);
            });
        }

        // Generate memories
        function generateMemories() {
            const container = document.getElementById('memories-grid');
            container.innerHTML = '';
            memories.forEach(imgSrc => {
                const img = document.createElement('img');
                img.alt = "School Memory";
                img.className = 'memory-img fade-in';
                img.loading = "lazy";
                img.addEventListener('click', () => {
                    fullImage.src = imgSrc;
                    fullImageModal.style.display = 'flex';
                });
                lazyLoadImage(img, imgSrc);
                container.appendChild(img);
            });
        }
        // Open student modal
        function openStudentModal(student, imgSrc) {
            modalName.textContent = student.name;
            modalAwards.innerHTML = '';
            const allAwards = getAllAwards(student.name);
            if (allAwards.length > 0) {
                allAwards.forEach(award => {
                    const li = document.createElement('li');
                    li.innerHTML = `<span class="award-icon">🏆</span> ${award}`;
                    modalAwards.appendChild(li);
                });
            } else {
                const li = document.createElement('li');
                li.textContent = "No awards recorded yet.";
                modalAwards.appendChild(li);
            }
            lazyLoadImage(modalImg, imgSrc);
            modalAwardsSection.style.display = 'block';
            viewFullBtn.onclick = () => {
                fullImage.src = imgSrc;
                fullImageModal.style.display = 'flex';
            };
            studentModal.style.display = 'flex';
        }

        
        // Open teacher modal
function openTeacherModal(teacher, imgSrc) {
    modalName.textContent = teacher.name;
    modalAwards.innerHTML = '';

    // Display section name if available and not "None"
    if (teacher.section_name && teacher.section_name !== "None") {
        const li = document.createElement('li');
        li.textContent = `${teacher.section_name} Section`;
        modalAwards.appendChild(li);
    } else {
        const li = document.createElement('li');
        li.textContent = "No assigned section";
        modalAwards.appendChild(li);
    }

    lazyLoadImage(modalImg, imgSrc);

    // Update modal header to "Section" instead of "Profile"
    const modalHeader = document.querySelector('#studentModal .modal-section h3');
    modalHeader.textContent = 'Section';

    modalAwardsSection.style.display = 'block';

    // Update button behavior to show full image
    viewFullBtn.onclick = () => {
        fullImage.src = imgSrc;
        fullImageModal.style.display = 'flex';
    };

    // Show modal
    studentModal.style.display = 'flex';
}
        // Close modals
        closeModal.addEventListener('click', () => studentModal.style.display = 'none');
        closeFullImage.addEventListener('click', () => fullImageModal.style.display = 'none');
        window.addEventListener('click', (e) => {
            if (e.target === studentModal) studentModal.style.display = 'none';
            if (e.target === fullImageModal) fullImageModal.style.display = 'none';
        });

        // Navigation
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                const section = link.getAttribute('data-section');
                sections.forEach(s => {
                    s.style.display = (s.id === `${section}-section`) ? 'block' : 'none';
                });
            });
        });

        // Search
        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase().trim();
            document.querySelectorAll('.section-title').forEach(t => t.classList.remove('highlight'));
            if (term === '') {
                document.querySelectorAll('.student-card, .teacher-card').forEach(c => c.style.display = 'block');
                return;
            }

            let found = false;
            const sectionMap = { aquarius: 'aquarius-title', capricorn: 'capricorn-title' };
            for (const [key, id] of Object.entries(sectionMap)) {
                if (key.includes(term)) {
                    const el = document.getElementById(id);
                    if (el) {
                        el.classList.add('highlight');
                        el.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        found = true;
                    }
                }
            }

            if (!found) {
                document.querySelectorAll('.student-card, .teacher-card').forEach(card => {
                    const name = card.querySelector('.student-name, .teacher-name').textContent.toLowerCase();
                    card.style.display = name.includes(term) ? 'block' : 'none';
                });
            }
        });

        // Scroll to top
        window.addEventListener('scroll', () => {
            scrollToTopBtn.classList.toggle('show', window.pageYOffset > 300);
        });
        scrollToTopBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

        // Infinite scroll
        let isScrolling = false;
        function handleScroll() {
            if (isScrolling) return;
            const studentsSection = document.getElementById('students-section');
            const rect = studentsSection.getBoundingClientRect();
            if (rect.top > window.innerHeight || rect.bottom < 0) return;

            const aquarius = document.getElementById('aquarius-students');
            const capricorn = document.getElementById('capricorn-students');

            let targetSection = null;
            if (!isFetching.aquarius && aquarius.scrollHeight - window.scrollY <= window.innerHeight + 100) {
                targetSection = 'aquarius';
            } else if (!isFetching.capricorn && capricorn.scrollHeight - window.scrollY <= window.innerHeight + 100) {
                targetSection = 'capricorn';
            } else return;

            if (!targetSection || isFetching[targetSection]) return;
            isScrolling = true;
            scrollLoader.classList.add('show');
            setTimeout(() => {
                currentPage[targetSection]++;
                generateStudentCards(targetSection, `${targetSection}-students`, currentPage[targetSection]);
                scrollLoader.classList.remove('show');
                isScrolling = false;
            }, 800);
        }
        window.addEventListener('scroll', handleScroll);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loading.style.display = 'block';
            setTimeout(() => {
                generateStudentCards('aquarius', 'aquarius-students', 1);
                generateStudentCards('capricorn', 'capricorn-students', 1);
                generateTeachers();
                generateIndividualAchievements();
                generateOtherAwards();
                generateSpeeches();
                generateMemories();
                generateLyrics();
                loading.style.display = 'none';
                currentPage.aquarius = 1;
                currentPage.capricorn = 1;
                document.querySelectorAll('.section').forEach(s => s.classList.add('fade-in'));
            }, 1000);
        });

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (studentModal.style.display === 'flex') studentModal.style.display = 'none';
                if (fullImageModal.style.display === 'flex') fullImageModal.style.display = 'none';
            }
        });

        function generateLyrics() {
            const lyricsContainer = document.getElementById('lyrics-content');
            lyricsContainer.innerHTML = `<p class="lyrics-text">${graduationLyrics}</p>`;
        }
    </script>
</body>
</html>